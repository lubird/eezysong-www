(()=>{"use strict";const e="unknown",r=r=>{const o=(t=r.cache,i=r.varnish,`${t||e},${i||e}`);var t,i;return{caching:o,isCached:o.includes("hit"),...r.microPop?{microPop:r.microPop}:{}}},o=(o,t)=>{const i=(e=>{let r;try{r=e()}catch{r=[]}const o=r.reduce((e,r)=>(e[r.name]=r.description,e),{});return{cache:o.cache,varnish:o.varnish,microPop:o.dc}})(t);if(i.cache||i.varnish)return r({cache:i.cache||e,varnish:i.varnish||e,microPop:i.microPop});const n=(r=>{const o=r.match(/ssr-caching="?cache[,#]\s*desc=([\w-]+)(?:[,#]\s*varnish=(\w+))?(?:[,#]\s*dc[,#]\s*desc=([\w-]+))?(?:"|;|$)/);return o&&o.length?{cache:o[1],varnish:o[2]||e,microPop:o[3]}:null})(o);return n?r(n):{caching:e,isCached:!1}};function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=16*Math.random()|0;return("x"===e?r:3&r|8).toString(16)})}const i=e=>{let r=!1;if(!/\(iP(hone|ad|od);/i.test(window?.navigator?.userAgent))try{r=navigator.sendBeacon(e)}catch{}r||((new Image).src=e)};!function(){const{site:e,rollout:r,fleetConfig:n,requestUrl:s,isInSEO:a,shouldReportErrorOnlyInPanorama:c}=window.fedops.data,d=(e=>{const{userAgent:r}=e.navigator;return/instagram.+google\/google/i.test(r)?"":/bot|google(?!play)|phantom|crawl|spider|headless|slurp|facebookexternal|Lighthouse|PTST|^mozilla\/4\.0$|^\s*$/i.test(r)?"ua":""})(window)||(()=>{try{if(window.self===window.top)return""}catch{}return"iframe"})()||(()=>{if(!Function.prototype.bind)return"bind";const{document:e,navigator:r}=window;if(!e||!r)return"document";const{webdriver:o,userAgent:t,plugins:i,languages:n}=r;if(o)return"webdriver";if(!i||Array.isArray(i))return"plugins";if(Object.getOwnPropertyDescriptor(i,"0")?.writable)return"plugins-extra";if(!t)return"userAgent";if(t.indexOf("Snapchat")>0&&e.hidden)return"Snapchat";if(!n||0===n.length||!Object.isFrozen(n))return"languages";try{throw Error()}catch(e){if(e instanceof Error){const{stack:r}=e;if(r&&/ (\(internal\/)|(\(?file:\/)/.test(r))return"stack"}}return""})()||(a?"seo":""),p=!!d,{isCached:l,caching:m,microPop:u}=o(document.cookie,()=>performance.getEntriesByType("navigation")[0].serverTiming||[]),w={WixSite:1,UGC:2,Template:3}[e.siteType]||0,h=e.appNameForBiEvents,{isDACRollout:g,siteAssetsVersionsRollout:f}=r,v=g?1:0,x=f?1:0,S=0===n.code||1===n.code?n.code:null,I=2===n.code,b=Date.now()-window.initialTimestamps.initialTimestamp,y=Math.round(performance.now()),{visibilityState:$}=document,O=$,{fedops:P,addEventListener:_,thunderboltVersion:A}=window;P.apps=P.apps||{},P.apps[h]={startLoadTime:y},P.sessionId=e.sessionId,P.vsi=t(),P.is_cached=l,P.phaseStarted=E(28),P.phaseEnded=E(22),performance.mark("[cache] "+m+(u?" ["+u+"]":"")),P.reportError=(e,r="load")=>{const o=e?.reason||e?.message;o?(c||R(26,`&errorInfo=${o}&errorType=${r}`),k({error:{name:r,message:o,stack:e?.stack}})):e.preventDefault()},_("error",P.reportError),_("unhandledrejection",P.reportError);let T=!1;function R(r,o=""){if(s.includes("suppressbi=true"))return;const t="//frog.wix.com/bolt-performance?src=72&evid="+r+"&appName="+h+"&is_rollout="+S+"&is_company_network="+I+"&is_sav_rollout="+x+"&is_dac_rollout="+v+"&dc="+e.dc+(u?"&microPop="+u:"")+"&is_cached="+l+"&msid="+e.metaSiteId+"&session_id="+window.fedops.sessionId+"&ish="+p+"&isb="+p+(p?"&isbr="+d:"")+"&vsi="+window.fedops.vsi+"&caching="+m+(T?",browser_cache":"")+"&pv="+O+"&pn=1&v="+A+"&url="+encodeURIComponent(s)+"&st="+w+`&ts=${b}&tsn=${y}`+o;i(t)}function k({transaction:r,error:o}){const t=[{fullArtifactId:"com.wixpress.html-client.wix-thunderbolt",componentId:""+("Studio"===window.fedops.data.site.editorName?"wix-studio":"thunderbolt"+(window.fedops.data.site.isResponsive?"-responsive":"")),platform:"viewer",msid:window.fedops.data.site.metaSiteId,sessionId:window.fedops.vsi,sessionTime:Date.now()-window.initialTimestamps.initialTimestamp,logLevel:o?"ERROR":"INFO",message:o?.message??(r?.name&&`${r.name} START`),errorName:o?.name,errorStack:o?.stack,transactionName:r?.name,transactionAction:r&&"START",isSsr:!1,dataCenter:e.dc,isCached:!!l,isRollout:!!S,isHeadless:!!p,isDacRollout:!!v,isSavRollout:!!x,isCompanyNetwork:!!I}];try{const e=JSON.stringify({messages:t});return navigator.sendBeacon("https://panorama.wixapps.net/api/v1/bulklog",e)}catch(e){console.error(e)}}function E(e){return(r,o)=>{const t=`&name=${r}&duration=${Date.now()-b}`,i=o&&o.paramsOverrides?Object.keys(o.paramsOverrides).map(e=>e+"="+o.paramsOverrides[e]).join("&"):"";R(e,i?`${t}&${i}`:t)}}if(_("pageshow",({persisted:e})=>{e&&(T||(T=!0,P.is_cached=!0))},!0),window.__browser_deprecation__)return;const C=document.referrer?`&document_referrer=${document.referrer}`:"",M=window.sessionStorage.getItem("isMpa"),N=M?`&isMpa=${M}`:"";M&&window.sessionStorage.removeItem("isMpa");let D=window.sessionStorage.getItem("mpaSessionId");D||(D=t(),window.sessionStorage.setItem("mpaSessionId",D)),window.fedops.mpaSessionId=D;const B=(/Mobile|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?window.visualViewport?.scale||1:(window.devicePixelRatio||1)/(Math.trunc((window.devicePixelRatio||1)*window.innerWidth)<=window.outerWidth?1:2))>1;R(21,`&platformOnSite=${window.fedops.data.platformOnSite}&hasInitialZoom=${B}&mpaSessionId=${D}${C}${N}`),k({transaction:{name:"PANORAMA_COMPONENT_LOAD"}})}()})();
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/sendFedopsLoadStarted.inline.e7b70508.bundle.min.js.map